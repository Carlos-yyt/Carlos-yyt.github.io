<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[const]]></title>
    <url>%2F2019%2F05%2F25%2Fconst%2F</url>
    <content type="text"><![CDATA[const与指针及函数cppreference-zh-201806 中的简单定义 const 对象——类型为 const-qualified 的对象，或 const 对象的非 mutable 子对象。这种对象不能修改：尝试直接这么做是编译时错误，且尝试间接这么做（例如通过到非 const 类型的引用或指针修改 const 对象）导致未定义行为。 const与指针声明指针时，在类型前或后都可以使用关键字const，也可在两个位置都使用。例如，下面都是合法的声明，但是含义大不同：123const int * pOne; //指向整形常量 的指针，它指向的值不能修改int * const pTwo; //指向整形的常量指针 ，它不能在指向别的变量，但指向（变量）的值可以修改。 const int *const pThree; //指向整形常量 的常量指针 。它既不能再指向别的常量，指向的值也不能修改。 const与函数《代码大全》说：代码是写给人看到的，我觉得const的设计就出于这个目的。即，通过避免人为的失误来提升程序的健壮性。从这个角度出发，很多设计的合理性就显而易见了。 用const修饰函数的参数应用背景我们经常会将自定义类型作为函数参数。如果使用值传递，则会产生临时对象。临时对象的构造、复制、析构过程都将消耗资源。因此，我们会使用引用传递来避免这个开销。引用传递意味着我们可以修改实参的值，我们有时候并不希望这件事发生，需要限制函数体对实参的修改的能力。 应用方法在引用传递的基础上加上const关键词，即：const A &amp;a。这个语法中兼备了高效和按权。其中，&amp;保证了高效，const缩小了权限，从而保证了安全。 错误的应用 void f(const int a) 值传递本身就意味着对形参的修改不会影响实参。写法并非错误，事实上在某些场合也具备意义。但是对于避免影响形参这个目的，是无意义的。 void f(const int &amp;a) 像int这样的内部类型作为函数参数被传递时，不存在构造、复制、析构的过程，复制的速度非常快。这种写法和void f(int a)的效率几乎相当。写法并非错误，事实上在某些场合也具备意义。但是对于安全又高效地使用实参这个目的，是无意义的。用const修饰函数的返回值申明格式为const A* GetA(void);。和上一节同理，也是为了更安全地使用&amp;。引用传递返回值一般出现在链式表达中，const则限制了不正常的链式表达。 程序举例： 123456789101112class A&#123; A&amp; operate = (const A &amp;other);// 赋值函数&#125;;int main()&#123; A a, b, c; // a, b, c 为A的对象 a= b = c; // 正常的链式赋值 (a= b) = c; // 不正常的链式赋值，但合法。如果将赋值函数的返回值加const修饰，那么该返回值的内容不允许被改动。语句a= b = c 仍然正确，但是语句(a= b) = c 则是非法的。 return 0;&#125; 用const修饰成员函数申明格式举例：int C::f(void) const;。作用是：f函数不可以修改数据成员，或者调用其它非const成员函数。 程序举例： 12345678910111213141516class Stack&#123; public: void Push(int elem); int Pop(void); int GetCount(void) const; // const 成员函数 private: int m_num; int m_data[100];&#125;; int Stack::GetCount(void)const &#123; ++ m_num; // 编译错误，企图修改数据成员m_num Pop();// 编译错误，企图调用非const函数 return m_num;&#125; 为什么const放在后面？因为const在修饰成员函数时，其实修饰的是*this。而this没有显式地写出来，所以就放在后面了（个人理解）。 注意：const不能修饰静态成员函数。而静态成员函数属于类而非对象，因此不可以被const修饰。 参考来源 https://www.cnblogs.com/azbane/p/7266747.html https://www.cnblogs.com/lihuidashen/p/4378884.html https://www.cnblogs.com/kiplove/p/6875371.html]]></content>
      <categories>
        <category>编程</category>
      </categories>
      <tags>
        <tag>C++</tag>
        <tag>C</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Like a Rolling Stone]]></title>
    <url>%2F2019%2F03%2F28%2FLike-a-rolling-stone%2F</url>
    <content type="text"><![CDATA[Like a Rolling StoneOnce upon a time you dressed so fineThrew the bums a dime in your prime, didn’t you?People call, say, “Beware doll, you’re bound to fall”You thought they were all kiddin’ youYou used to laugh aboutEverybody that was hangin’ outNow you don’t talk so loudNow you don’t seem so proudAbout having to be scrounging for your next mealHow does it feelHow does it feelTo be without a homeLike a complete unknownLike a rolling stoneYou’ve gone to the finest school all right, Miss LonelyBut you know you only used to get juiced in itAnd nobody has ever taught you how to live on the streetAnd now you’re gonnahave to get used to itYou said you’d never compromiseWith the mystery tramp, but now you realizeHe’s not selling any alibiesAs you stare into the vacuum of his eyesAnd say do you want to make a deal?How does it feelHow does it feelTo be on your ownWith no direction homeLike a complete unknownLike a rolling stoneOh,you never turned around to see the frownsOn the jugglers and the clowns when they did tricks for youYou never understood that it ain’t no goodYou shouldn’t let other people get your kicks for youYou used to ride on the chrome horse with your diplomatWho carried on his shoulder a Siamese catAin’t it hard when you discover thatHe really wasn’t where it’s atAfter he took from you everything he could stealHow does it feelHow does it feelHave to be on your ownWith no direction homeLike a complete unknownLike a rolling stonePrincess on the steeple and all the pretty peopleThey’re drinkin’, thinkin’ that they’ve got it madeExchanging all kinds of precious gifts and thingsBut you’d better lift your diamond ring, you’d better pawn it babeYou used to be so amusedAt Napoleon in rags and the language that he usedGo to him now, he calls you, you can’t refuseWhen you got nothing, you got nothing to loseYou’re invisible now, you’ve got no secrets to concealHow does it feelHow does it feelTo be no your ownWith no direction homeLike a complete unknownLike a rolling stone]]></content>
      <tags>
        <tag>literature</tag>
      </tags>
  </entry>
</search>
